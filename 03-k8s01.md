apiserver  

> 调用接口,用于对外的交互

scheduler 

> 资源调度

container manager

>   错误处理
>
> 扩容缩容

kubelet 
> 部署启动
> 运行监控

proxy

> 服务发现

编辑yaml文件

```yaml 
apiVersion: v1   #目前就是固定为v1
kind: Pod        #指定资源类型.
metadata:           #源数据的一些属性  pod资源的名字
	name: nginx
	labels:
		app: web
spec:                 #从这里开始就是对后面生成容器的一些真是配置.
	containers:
		- name: nginx    #容器的名称(就是pod的名称 )
		  image: 10.0.0.11:5000/oldguonginx:v1   #引用的镜像的名称
		  ports:
		  	- containerPort: 80    #pod对外暴露的端口
		  	
```

#### 常用命令

```shell
#通过yaml文件启动pod
kubectl create -f nginx.yaml
#查询现有的pod
kubectl get pods   #老版本都是kubectl get pod 
					#显示详细信息  kubectl get pod -o wide
#查看容器的详细信息
kubectl describe pods   #old  kubectl describe pod podname
#删除pod
kubectl delete pod podName
#查看某一个标签的pod
kubectl get pod -o wide -l app=web
#跟新image
kubectl replace -f k8s_pod.yml   #更新某个pod

```



#### rc    标签选择器(用于选定pod的控制器)

```yaml
apiVersion: v1
kind: ReplicationController
metadata:
  name: nginx_rc   #标签选择器的名称
spec:
  replicas: 3       #副本个数
  selector:
    app: nginx
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginx
        image: 
        ports:
          containersPorts: 80 
```

```shell
#在线修改副本个数
kubectl scale rc nginx --replicas=4
#更新新的
kubectl rolling-update nginxrc -f k8s_nginx_rc1.yaml  --update-period=10s
              #每10秒更新一个pod
#
```

















